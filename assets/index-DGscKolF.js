var Je=Object.defineProperty;var Qe=(t,e,l)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var D=(t,e,l)=>(Qe(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=l(s);fetch(s.href,a)}})();function V(){}function ze(t){return t()}function Me(){return Object.create(null)}function B(t){t.forEach(ze)}function Te(t){return typeof t=="function"}function qe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Xe(t){return Object.keys(t).length===0}function p(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function L(t){return document.createElement(t)}function se(t){return document.createTextNode(t)}function N(){return se(" ")}function Z(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function k(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Ye(t){return Array.from(t.childNodes)}function he(t,e){e=""+e,t.data!==e&&(t.data=e)}let be;function x(t){be=t}const F=[],R=[];let U=[];const ue=[],Ze=Promise.resolve();let ce=!1;function xe(){ce||(ce=!0,Ze.then(Fe))}function de(t){U.push(t)}function G(t){ue.push(t)}const fe=new Set;let q=0;function Fe(){if(q!==0)return;const t=be;do{try{for(;q<F.length;){const e=F[q];q++,x(e),$e(e.$$)}}catch(e){throw F.length=0,q=0,e}for(x(null),F.length=0,q=0;R.length;)R.pop()();for(let e=0;e<U.length;e+=1){const l=U[e];fe.has(l)||(fe.add(l),l())}U.length=0}while(F.length);for(;ue.length;)ue.pop()();ce=!1,fe.clear(),x(t)}function $e(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function et(t){const e=[],l=[];U.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),U=e}const ne=new Set;let tt;function I(t,e){t&&t.i&&(ne.delete(t),t.i(e))}function J(t,e,l,n){if(t&&t.o){if(ne.has(t))return;ne.add(t),tt.c.push(()=>{ne.delete(t)}),t.o(e)}}function W(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function _e(t,e){t.d(1),e.delete(t.key)}function ge(t,e,l,n,s,a,i,o,c,_,r,f){let d=t.length,h=a.length,u=d;const g={};for(;u--;)g[t[u].key]=u;const w=[],E=new Map,y=new Map,P=[];for(u=h;u--;){const m=f(s,a,u),O=l(m);let A=i.get(O);A?P.push(()=>A.p(m,e)):(A=_(O,m),A.c()),E.set(O,w[u]=A),O in g&&y.set(O,Math.abs(u-g[O]))}const v=new Set,z=new Set;function T(m){I(m,1),m.m(o,r),i.set(m.key,m),r=m.first,h--}for(;d&&h;){const m=w[h-1],O=t[d-1],A=m.key,j=O.key;m===O?(r=m.first,d--,h--):E.has(j)?!i.has(A)||v.has(A)?T(m):z.has(j)?d--:y.get(A)>y.get(j)?(z.add(A),T(m)):(v.add(j),d--):(c(O,i),d--)}for(;d--;){const m=t[d];E.has(m.key)||c(m,i)}for(;h;)T(w[h-1]);return B(P),w}function Q(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function X(t){t&&t.c()}function H(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),de(()=>{const a=t.$$.on_mount.map(ze).filter(Te);t.$$.on_destroy?t.$$.on_destroy.push(...a):B(a),t.$$.on_mount=[]}),s.forEach(de)}function K(t,e){const l=t.$$;l.fragment!==null&&(et(l.after_update),B(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(F.push(t),xe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function He(t,e,l,n,s,a,i=null,o=[-1]){const c=be;x(t);const _=t.$$={fragment:null,ctx:[],props:a,update:V,not_equal:s,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Me(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};i&&i(_.root);let r=!1;if(_.ctx=l?l(t,e.props||{},(f,d,...h)=>{const u=h.length?h[0]:d;return _.ctx&&s(_.ctx[f],_.ctx[f]=u)&&(!_.skip_bound&&_.bound[f]&&_.bound[f](u),r&&lt(t,f)),d}):[],_.update(),r=!0,B(_.before_update),_.fragment=n?n(_.ctx):!1,e.target){if(e.hydrate){const f=Ye(e.target);_.fragment&&_.fragment.l(f),f.forEach(S)}else _.fragment&&_.fragment.c();e.intro&&I(t.$$.fragment),H(t,e.target,e.anchor),Fe()}x(c)}class Ke{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){K(this,1),this.$destroy=V}$on(e,l){if(!Te(l))return V;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nt);function Ee(t,e,l){const n=t.slice();return n[10]=e[l],n[12]=l,n}function Oe(t,e,l){const n=t.slice();return n[13]=e[l],n[15]=l,n}function Ne(t,e,l){const n=t.slice();return n[13]=e[l],n[12]=l,n}function Pe(t){let e,l=[],n=new Map,s=W(t[0][0]);const a=i=>i[12];for(let i=0;i<s.length;i+=1){let o=Ne(t,s,i),c=a(o);n.set(c,l[i]=Se(c,o))}return{c(){e=L("div");for(let i=0;i<l.length;i+=1)l[i].c();k(e,"class","flex flex-row w-fit")},m(i,o){C(i,e,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(i,o){o&33&&(s=W(i[0][0]),l=ge(l,o,a,1,i,s,n,e,_e,Se,null,Ne))},d(i){i&&S(e);for(let o=0;o<l.length;o+=1)l[o].d()}}}function Se(t,e){var i;let l,n=(((i=e[5])==null?void 0:i[e[12]])??e[12]+1)+"",s,a;return{key:t,first:null,c(){l=L("span"),s=se(n),a=N(),k(l,"class",ie+" my-auto text-center"),this.first=l},m(o,c){C(o,l,c),p(l,s),p(l,a)},p(o,c){var _;e=o,c&33&&n!==(n=(((_=e[5])==null?void 0:_[e[12]])??e[12]+1)+"")&&he(s,n)},d(o){o&&S(l)}}}function je(t){let e;return{c(){e=L("div"),k(e,"class",ie+" "+me)},m(l,n){C(l,e,n)},p:V,d(l){l&&S(e)}}}function Ce(t){var a;let e,l,n=(((a=t[6])==null?void 0:a[t[12]])??t[12]+1)+"",s;return{c(){e=L("div"),l=L("span"),s=se(n),k(l,"class","w-full h-full my-auto text-center flex flex-col justify-center"),k(e,"class",ie+" "+me+" flex flex-col justify-center")},m(i,o){C(i,e,o),p(e,l),p(l,s)},p(i,o){var c;o&65&&n!==(n=(((c=i[6])==null?void 0:c[i[12]])??i[12]+1)+"")&&he(s,n)},d(i){i&&S(e)}}}function Re(t,e){let l,n,s,a,i,o,c;function _(...f){return e[8](e[12],e[15],...f)}function r(...f){return e[9](e[12],e[15],...f)}return{key:t,first:null,c(){var f,d;l=L("div"),n=L("input"),k(n,"type","number"),k(n,"class",s="w-full h-full text-center "+(e[0][e[12]][e[15]]<0?"bg-red-300":"")+" "+(((f=e[2])==null?void 0:f[e[12]])??e[2]?"hide-spin-button":"")),k(n,"min","0"),k(n,"max","999"),n.value=a=e[0][e[12]][e[15]],n.disabled=i=((d=e[2])==null?void 0:d[e[12]])??e[2],k(l,"class",ie+" "+me+" border border-black flex flex-col justify-center"),this.first=l},m(f,d){C(f,l,d),p(l,n),o||(c=[Z(n,"blur",_),Z(n,"change",r)],o=!0)},p(f,d){var h,u;e=f,d&5&&s!==(s="w-full h-full text-center "+(e[0][e[12]][e[15]]<0?"bg-red-300":"")+" "+(((h=e[2])==null?void 0:h[e[12]])??e[2]?"hide-spin-button":""))&&k(n,"class",s),d&1&&a!==(a=e[0][e[12]][e[15]])&&n.value!==a&&(n.value=a),d&5&&i!==(i=((u=e[2])==null?void 0:u[e[12]])??e[2])&&(n.disabled=i)},d(f){f&&S(l),o=!1,B(c)}}}function Ie(t,e){let l,n,s=[],a=new Map,i,o=e[4]&&Ce(e),c=W(e[10]);const _=r=>r[15];for(let r=0;r<c.length;r+=1){let f=Oe(e,c,r),d=_(f);a.set(d,s[r]=Re(d,f))}return{key:t,first:null,c(){l=L("div"),o&&o.c(),n=N();for(let r=0;r<s.length;r+=1)s[r].c();i=N(),k(l,"class","flex flex-row"),this.first=l},m(r,f){C(r,l,f),o&&o.m(l,null),p(l,n);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,null);p(l,i)},p(r,f){e=r,e[4]?o?o.p(e,f):(o=Ce(e),o.c(),o.m(l,n)):o&&(o.d(1),o=null),f&5&&(c=W(e[10]),s=ge(s,f,_,1,e,c,a,l,_e,Re,i,Oe))},d(r){r&&S(l),o&&o.d();for(let f=0;f<s.length;f+=1)s[f].d()}}}function st(t){let e,l,n,s,a,i,o,c=[],_=new Map,r=t[3]&&Pe(t),f=t[7]&&je(),d=W(t[0]);const h=u=>u[12];for(let u=0;u<d.length;u+=1){let g=Ee(t,d,u),w=h(g);_.set(w,c[u]=Ie(w,g))}return{c(){e=L("div"),l=L("div"),n=L("h2"),s=se(t[1]),a=N(),r&&r.c(),i=N(),f&&f.c(),o=N();for(let u=0;u<c.length;u+=1)c[u].c();k(n,"class","m-auto text-lg font-bold w-fit flex flex-row justify-center"),k(l,"class","ml-auto"),k(e,"class","flex flex-col items-center w-fit")},m(u,g){C(u,e,g),p(e,l),p(l,n),p(n,s),p(l,a),r&&r.m(l,null),p(e,i),f&&f.m(e,null),p(e,o);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(e,null)},p(u,[g]){g&2&&he(s,u[1]),u[3]?r?r.p(u,g):(r=Pe(u),r.c(),r.m(l,null)):r&&(r.d(1),r=null),u[7]?f?f.p(u,g):(f=je(),f.c(),f.m(e,o)):f&&(f.d(1),f=null),g&85&&(d=W(u[0]),c=ge(c,g,h,1,u,d,_,e,_e,Ie,null,Ee))},i:V,o:V,d(u){u&&S(e),r&&r.d(),f&&f.d();for(let g=0;g<c.length;g+=1)c[g].d()}}}const ie="w-14",me="h-10";function it(t,e,l){let{title:n}=e,{disabled:s}=e,{xLabel:a=!0}=e,{yLabel:i=!0}=e,{xLabels:o=[]}=e,{yLabels:c=[]}=e,{offset:_=!1}=e,{table:r=[[0,0,0],[0,0,0],[0,0,0]]}=e;const f=(h,u,g)=>{g.target.value=Math.min(999,Math.max(0,g.target.value)),l(0,r[h][u]=parseInt(g.target.value.toString()),r)},d=(h,u,g)=>l(0,r[h][u]=parseInt(g.target.value),r);return t.$$set=h=>{"title"in h&&l(1,n=h.title),"disabled"in h&&l(2,s=h.disabled),"xLabel"in h&&l(3,a=h.xLabel),"yLabel"in h&&l(4,i=h.yLabel),"xLabels"in h&&l(5,o=h.xLabels),"yLabels"in h&&l(6,c=h.yLabels),"offset"in h&&l(7,_=h.offset),"table"in h&&l(0,r=h.table)},[r,n,s,a,i,o,c,_,f,d]}class Y extends Ke{constructor(e){super(),He(this,e,it,st,qe,{title:1,disabled:2,xLabel:3,yLabel:4,xLabels:5,yLabels:6,offset:7,table:0})}}class ft{constructor(e,l,n){D(this,"_need",()=>{let e=[];for(let l=0;l<this.max.length;l++){e[l]=[];for(let n=0;n<this.max[l].length;n++)e[l][n]=this.max[l][n]-this.allocation[l][n]}return e});D(this,"solve",()=>{let e=this.max.map((n,s)=>!1);this.available=this.available.slice(0,1);let l=[];for(;l.length<this.max.length;){let n=!1;for(let s=0;s<this.max.length;s++)e[s]||this.need[s].every((a,i)=>this.need[s][i]<=this.available.at(-1)[i])&&(l.push(s),this.available.push(this.allocation[s].map((a,i)=>this.available.at(-1)[i]+this.allocation[s][i])),e[s]=!0,n=!0);if(!n)break}for(this.order=l;this.available.length<=this.max.length;)this.available.push(this.available.at(-1).map(()=>-1));for(;this.order.length<this.max.length;)this.order.push(-1)});this.available=e,this.max=l,this.allocation=n,this.need=this._need(),this.order=this.max.map((s,a)=>0),this.solve()}}const ae=t=>[...t,Array(t[0].length).fill(0)],re=t=>t[0].length===5?t:t.map(e=>[...e,0]),oe=(t,e=0,l=10)=>t.map(n=>n.map(()=>Math.floor(Math.random()*(l-e+1))+e));function at(t){let e,l,n,s,a,i,o,c,_,r,f,d,h,u,g,w,E,y,P,v,z,T,m,O,A,j,pe;function Ue(b){t[10](b)}let ye={title:"Max",xLabels:t[5],yLabels:t[6],offset:!0,disabled:!1};t[1]!==void 0&&(ye.table=t[1]),f=new Y({props:ye}),R.push(()=>Q(f,"table",Ue));function Ve(b){t[11](b)}let we={title:"Allocation",yLabel:!1,xLabels:t[5],yLabels:t[6],offset:!0,disabled:!1};t[2]!==void 0&&(we.table=t[2]),u=new Y({props:we}),R.push(()=>Q(u,"table",Ve));function We(b){t[12](b)}let Le={title:"Need",yLabel:!1,disabled:!0,xLabels:t[5],yLabels:t[6],offset:!0};t[3]!==void 0&&(Le.table=t[3]),E=new Y({props:Le}),R.push(()=>Q(E,"table",We));function De(b){t[13](b)}let ke={title:"Available",xLabels:t[5],yLabel:!1,disabled:t[0].map(Be)};t[0]!==void 0&&(ke.table=t[0]),v=new Y({props:ke}),R.push(()=>Q(v,"table",De));function Ge(b){t[14](b)}let ve={title:"⁠",xLabels:["Nₒ."],yLabel:!1,disabled:!0,offset:!0};return t[4]!==void 0&&(ve.table=t[4]),m=new Y({props:ve}),R.push(()=>Q(m,"table",Ge)),{c(){e=L("main"),l=L("h1"),l.textContent="Banker's Algorithm",n=N(),s=L("button"),s.textContent="Add Process",a=N(),i=L("button"),i.textContent="Add Resource",o=N(),c=L("button"),c.textContent="Randomize",_=N(),r=L("div"),X(f.$$.fragment),h=N(),X(u.$$.fragment),w=N(),X(E.$$.fragment),P=N(),X(v.$$.fragment),T=N(),X(m.$$.fragment),k(l,"class","mb-4 p-1 text-2xl font-bold text-center flex flex-row justify-center border-b-2 border-black"),k(r,"class","my-3 w-full flex flex-row justify-center gap-3")},m(b,M){C(b,e,M),p(e,l),p(e,n),p(e,s),p(e,a),p(e,i),p(e,o),p(e,c),p(e,_),p(e,r),H(f,r,null),p(r,h),H(u,r,null),p(r,w),H(E,r,null),p(r,P),H(v,r,null),p(r,T),H(m,r,null),A=!0,j||(pe=[Z(s,"click",t[7]),Z(i,"click",t[8]),Z(c,"click",t[9])],j=!0)},p(b,[M]){const $={};M&32&&($.xLabels=b[5]),M&64&&($.yLabels=b[6]),!d&&M&2&&(d=!0,$.table=b[1],G(()=>d=!1)),f.$set($);const ee={};M&32&&(ee.xLabels=b[5]),M&64&&(ee.yLabels=b[6]),!g&&M&4&&(g=!0,ee.table=b[2],G(()=>g=!1)),u.$set(ee);const te={};M&32&&(te.xLabels=b[5]),M&64&&(te.yLabels=b[6]),!y&&M&8&&(y=!0,te.table=b[3],G(()=>y=!1)),E.$set(te);const le={};M&32&&(le.xLabels=b[5]),M&1&&(le.disabled=b[0].map(Be)),!z&&M&1&&(z=!0,le.table=b[0],G(()=>z=!1)),v.$set(le);const Ae={};!O&&M&16&&(O=!0,Ae.table=b[4],G(()=>O=!1)),m.$set(Ae)},i(b){A||(I(f.$$.fragment,b),I(u.$$.fragment,b),I(E.$$.fragment,b),I(v.$$.fragment,b),I(m.$$.fragment,b),A=!0)},o(b){J(f.$$.fragment,b),J(u.$$.fragment,b),J(E.$$.fragment,b),J(v.$$.fragment,b),J(m.$$.fragment,b),A=!1},d(b){b&&S(e),K(f),K(u),K(E),K(v),K(m),j=!1,B(pe)}}}const Be=(t,e)=>e!==0;function rt(t,e,l){let n=[[1,2,3],[4,5,6],[7,8,9],[10,11,12]],s=[[1,2,3],[4,5,6],[7,8,9]],a=[[1,2,3],[4,5,6],[7,8,9]],i=[[0,0,0],[0,0,0],[0,0,0]],o=[[1],[2],[3]],c=s[0].map((y,P)=>`R${P+1}`),_=s.map((y,P)=>`P${P+1}`);const r=()=>{l(0,n=ae(n)),l(1,s=ae(s)),l(2,a=ae(a))},f=()=>{l(0,n=re(n)),l(1,s=re(s)),l(2,a=re(a))},d=()=>{l(0,n=oe(n)),l(1,s=oe(s)),l(2,a=oe(a))};function h(y){s=y,l(1,s)}function u(y){a=y,l(2,a)}function g(y){i=y,l(3,i),l(1,s),l(0,n),l(2,a)}function w(y){n=y,l(0,n),l(1,s),l(2,a)}function E(y){o=y,l(4,o),l(1,s),l(0,n),l(2,a)}return t.$$.update=()=>{if(t.$$.dirty&7){l(5,c=s[0].map((P,v)=>`R${v+1}`)),l(6,_=s.map((P,v)=>`P${v+1}`));let y=new ft(n,s,a);l(3,i=y.need),l(0,n=y.available),l(4,o=y.order.map(P=>[P]))}},[n,s,a,i,o,c,_,r,f,d,h,u,g,w,E]}class ot extends Ke{constructor(e){super(),He(this,e,rt,at,qe,{})}}new ot({target:document.getElementById("app")});
